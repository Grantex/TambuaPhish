<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Training Modules - TambuaPhish</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='training_modules.css') }}"/>
</head>
<body>
  <!-- Header -->
  <header class="main-header">
    <div class="header-left">
      <h1>TambuaPhish - Training Modules</h1>
    </div>
    <div class="header-right">
      <p>Welcome, {{ username }}</p>
      <a href="/logout" class="logout-button">Logout</a>
    </div>
  </header>

  <!-- Sidebar + Main Content -->
  <div class="dashboard-wrapper">
    <aside class="sidebar">
      <nav>
        <ul>
          <li><a href="{{url_for('routes.dashboard')}}">Dashboard</a></li>
          <li><a href="{{url_for('routes.campaigns')}}">Campaigns</a></li>
          <li><a href="{{url_for('routes.phishing_templates')}}">Phishing Templates</a></li>
          <li><a href="{{url_for('routes.start_a_campaign')}}">Start a Campaign</a></li>
          <li><a href="{{url_for('routes.training_modules')}}" class="active">Training Modules</a></li>
        </ul>
      </nav>
    </aside>

    <main class="main-content">

      <!-- Page Header -->
      <div class="modules-header">
        <h1>Training Modules</h1>
        <a href="{{ url_for('routes.create_training_module') }}" class="btn-create">+ Create New Module</a>
      </div>

      <!-- Search & Filter Bar -->
      <div class="filters">
        <input type="text" id="searchInput" placeholder="Search modules...">
        <select id="categoryFilter">
          <option value="">All Categories</option>
          <option value="Phishing Basics">Phishing Basics</option>
          <option value="Email Security">Email Security</option>
          <option value="Social Engineering">Social Engineering</option>
          <option value="Other">Other</option>
        </select>
        <select id="formatFilter">
          <option value="">All Formats</option>
          <option value="Video">Video</option>
          <option value="PDF">PDF</option>
          <option value="Interactive">Interactive</option>
        </select>
      </div>

      <!-- Module Cards Grid -->
      <div id="moduleList" class="modules-grid">
        {% for module in modules %}
        <div class="module-card" data-category="{{ module.category }}" data-format="{{ module.format }}">
          <h3>{{ module.title }}</h3>
          <p>{{ module.description }}</p>
          <div class="tags">
            <span>Category: {{ module.category }}</span>
            <span>Duration: {{ module.duration }} min</span>
            <span>Format: {{ module.format }}</span>
          </div>
          <div class="card-actions">
            <button class="secondary-btn">View</button>
            <button class="primary-btn">Assign</button>
          </div>
        </div>
        {% endfor %}
      </div>

    </main>
  </div> <!-- END dashboard-wrapper -->

  <!-- Footer -->
  <footer>
    <p>Developed by Grant Ombongi Nyamweya &copy; 2025</p>
  </footer>

  <script src="{{ url_for('static', filename='training_modules.js') }}"></script>
</body>
</html>
